{
	"$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"resourceType": {
			"type": "string",
			"allowedValues": [
				"Database",
				"Container"
			],
			"metadata": {
				"description": "Resource type to update throughput"
			}
		},
		"accountName": {
			"type": "string",
			"metadata": {
				"description": "Cosmos DB account name"
			}
		},
		"databaseName": {
			"type": "string",
			"metadata": {
				"description": "The name for the SQL database"
			}
		},
		"containerName": {
			"type": "string",
			"metadata": {
				"description": "The name for the SQL container"
			}
		},
		"throughput": {
			"type": "int",
			"minValue": 400,
			"maxValue": 1000000,
			"metadata": {
				"description": "Updated throughput amount"
			}			
		}
	},
	"variables": {
		"accountName": "[toLower(parameters('accountName'))]",
		"resource": 
		{
			"Database": {
				"databaseName": "[concat(variables('accountName'), '/sql/', parameters('databaseName'), '/throughput')]",
				"containerName": "dummy/sql/container/name/throughput')]"
			},
			"Container": {
				"databaseName": "dummy/sql/database/throughput",
				"containerName": "[concat(variables('accountName'), '/sql/', parameters('databaseName'), '/', parameters('containerName'), '/throughput')]"
			}
		}
	},
	"resources": 
	[
		{
			"condition": "[equals(parameters('resourceType'),'Database')]",
			"type": "Microsoft.DocumentDB/databaseAccounts/apis/databases/settings",
			"name": "[variables('resource')[parameters('resourceType')].databaseName]",
			"apiVersion": "2016-03-31",
			"properties": {
				"resource": {
				  "throughput": "[parameters('throughput')]"
				}
			}
		},
		{
			"condition": "[equals(parameters('resourceType'),'Container')]",
			"type": "Microsoft.DocumentDB/databaseAccounts/apis/databases/containers/settings",
			"name": "[variables('resource')[parameters('resourceType')].containerName]",
			"apiVersion": "2016-03-31",
			"properties": {
				"resource": {
				  "throughput": "[parameters('throughput')]"
				}
			}
		}
	]
}